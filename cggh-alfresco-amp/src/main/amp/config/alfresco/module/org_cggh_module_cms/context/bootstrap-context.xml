<?xml version='1.0' encoding='UTF-8'?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

	<!-- The bootstrap-context.xml file is used for patch definitions, importers, 
		message loaders, loading custom web client configuration, and loading custom 
		content models. -->


	<!-- Registration of new models -->
	<bean id="org.cggh.dictionaryBootstrap" parent="dictionaryModelBootstrap"
		depends-on="dictionaryBootstrap">
		<property name="models">
			<list>
				<value>alfresco/module/${artifactId}/model/content-model.xml</value>
				<!-- <value>alfresco/module/${artifactId}/model/workflow-model.xml</value> -->
			</list>
		</property>
	</bean>

	<!-- Bootstrap property sheets, custom dashlets etc for the custom UI pieces 
		of the Alfresco Explorer -->
	<bean id="org.cggh.cms.webclient.configBootstrap" class="org.alfresco.web.config.WebClientConfigBootstrap"
		init-method="init">
		<property name="configs">
			<list>
				<value>classpath:alfresco/module/${artifactId}/ui/web-client-config-custom.xml
				</value>
			</list>
		</property>
	</bean>

	<!-- Bootstrap label properties for the Alfresco Explorer UI customizations -->
	<bean id="org.cggh.cms.resourceBundle" class="org.alfresco.web.app.ResourceBundleBootstrap">
		<property name="resourceBundles">
			<list>
				<value>alfresco.module.${artifactId}.ui.webclient</value>
			</list>
		</property>
	</bean>

	<!-- Bootstrap workflow definition and workflow properties for the Review 
		& Approve Workflow <bean id="org.cggh.cms.workflowBootstrap" parent="workflowDeployer"> 
		<property name="workflowDefinitions"> <list> <props> <prop key="engineId">jbpm</prop> 
		<prop key="location">alfresco/module/${artifactId}/workflows/reviewandapprove/processdefinition.xml</prop> 
		<prop key="mimetype">text/xml</prop> <prop key="redeploy">true</prop> </props> 
		</list> </property> <property name="labels"> <list> <value>alfresco.module.org_cggh_module_cms.ui.review-and-approve-workflow</value> 
		</list> </property> </bean> -->

<!-- 
	<bean id="org_cggh_module_cms_bootstrapSpaces" class="org.alfresco.repo.module.ImporterModuleComponent" 
        parent="module.baseComponent">
        <property name="moduleId" value="${artifactId}" />
        <property name="name" value="importScripts" />
        <property name="description" value="additional Data Dictionary scripts" />
        <property name="sinceVersion" value="1.3.0" />
        <property name="appliesFromVersion" value="1.3.0" />

        <property name="importer" ref="spacesBootstrap"/>
        <property name="bootstrapViews">
            <list>
                 <props>
                     <prop key="path">/${spaces.company_home.childname}/${spaces.dictionary.childname}/app:scripts</prop>
                     <prop key="location">alfresco/module/${artifactId}/bootstrap/cggh_scripts.acp</prop>
                 </props>
            </list>
        </property>
    </bean>
-->
    <bean id="usernamePropertiesDecorator" parent="baseDecorator" class="org.cggh.repo.jscript.app.CustomUsernamePropertyDecorator">
        <property name="nodeService" ref="nodeService"/>
        <property name="personService" ref="PersonService" />
        <property name="propertyNames">
            <set>
                <value>cm:creator</value>
                <value>cm:modifier</value>
                <value>cm:workingCopyOwner</value>
                <value>cm:lockOwner</value>
                <value>cm:owner</value>
                <value>qshare:sharedBy</value>
            </set>
        </property>
    </bean>


</beans>
